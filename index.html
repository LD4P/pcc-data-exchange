<!DOCTYPE html>
<html>
    <head>
      <link rel="stylesheet" href="https://pyscript.net/alpha/pyscript.css" />
      <script defer src="https://pyscript.net/alpha/pyscript.js"></script>
      <py-env>
        - numpy
        - matplotlib
        - './static/wheels/rdflib-6.1.1-py3-none-any.whl'
        - './static/wheels/pyshacl-0.19.0-py3-none-any.whl'
        - paths:
          - ./data.py
      </py-env>
      <style>
       body {
         padding: .5em;
       }
       h1 {
         font-size: 2em;
       }

       h2 {
         font-size: 1.5em;
       }
      </style>
    </head>

  <body>
    <h1>PCC Interchange Processing</h1>
    <p>
       <label id="today"></label>
     </p>
    <div id="plot"></div>
    <py-script>
      import sys
      import datetime as dt
      from pyodide.http import open_url

      # Hack to load rdflib
      setattr(sys.stderr, 'isatty', lambda : True)

      from data import graph

      pyscript.write('today', dt.date.today().strftime('%A %B %d, %Y'))


    </py-script>
    <h2>Enter URL to Source RDF</h2>
    <py-box widths="4/5;1/5">  
      <py-inputbox id="rdf-url">

      </py-inputbox>
      <py-button id="get-rdf" label="Load RDF">
       
      </py-button>
    </py-box>
     <div id="load_rdf_result"></div>
     <py-box widths="1/2;1/2">
        <py-repl id="my-repl" auto-generate="true" std-out="output" std-err="err-div"> </py-repl>
        <div id="output" class="p-4"></div>
    </py-box>
    <footer>
     <div id="err-div" class="bg-red-700 text-white text-center border-t-4 border-green-500 fixed inset-x-0 bottom-0 p-4 hidden"></div>
      <p xmlns:cc="http://creativecommons.org/ns#" >
        This work is licensed under <a href="http://creativecommons.org/licenses/by/4.0/?ref=chooser-v1" 
        target="_blank" 
        rel="license noopener noreferrer" style="display:inline-block;">Creative Commons Attribution 4.0 International</a>.
        Source code licensed under <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache 2</a>.
     </p> 
    </footer>
  </body>
</html>
